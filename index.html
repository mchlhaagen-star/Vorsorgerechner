<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Michel‚Äôs Vorsorgerechner</title>
<style>
  body { font-family: Arial, sans-serif; background: #f5f5f5; margin: 0; padding: 0; }
  h1 { text-align: center; background: #47624f; color: white; padding: 1rem; }
  .container { max-width: 700px; margin: 2rem auto; background: white; padding: 2rem; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.2); }
  label { display: block; margin-top: 1rem; font-weight: bold; }
  select, input { width: 100%; padding: 0.5rem; margin-top: 0.5rem; border-radius: 5px; border: 1px solid #ccc; }
  button { margin-top: 1.5rem; padding: 0.8rem 1.2rem; background: #47624f; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 1rem; }
  button:hover { background: #3b5242; }
  .result { margin-top: 2rem; background: #eef3ef; padding: 1rem; border-radius: 8px; }
  table { width: 100%; border-collapse: collapse; margin-top: 1rem; }
  th, td { border: 1px solid #ccc; padding: 0.5rem; text-align: left; }
  th { background: #dfe6e1; }
</style>
</head>
<body>

<h1>Michel‚Äôs Vorsorgerechner</h1>
<div class="container">
  <p>Berechne deinen realistischen Vorrat an Wasser und Lebensmitteln ‚Äì nach Michel, nicht nach Ministerium.</p>

  <label for="persons">Anzahl Personen:</label>
  <input type="number" id="persons" min="1" max="10" value="2">

  <label for="days">Tage:</label>
  <input type="number" id="days" min="1" max="60" value="14">

  <label for="mode">Modus:</label>
  <select id="mode">
    <option value="bbk">ü•´ BBK-Minimum</option>
    <option value="michel" selected>üç≤ Michel-Praxiswert</option>
    <option value="selbst">üåæ Selbstversorger-Deluxe</option>
  </select>

  <button onclick="calculate()">Berechnen</button>

  <div class="result" id="result"></div>
</div>

<script>
function calculate() {
  const n = parseInt(document.getElementById("persons").value);
  const d = parseInt(document.getElementById("days").value);
  const mode = document.getElementById("mode").value;

  let wasser, kcal;
  if (mode === "bbk") { wasser = 2; kcal = 2000; }
  if (mode === "michel") { wasser = 4; kcal = 2200; }
  if (mode === "selbst") { wasser = 4; kcal = 2500; }

  const totalWater = n * d * wasser;
  const totalKcal = n * d * kcal;

  // Aufteilung der Kalorien in Prozent
  const food = {
    "Getreideprodukte & Mehl": 0.40,
    "Eiwei√üquellen (Eier, H√ºlsenfr√ºchte, K√§se)": 0.20,
    "Fette & √ñle": 0.25,
    "Obst & Gem√ºse (haltbar)": 0.10,
    "Zucker & Honig": 0.05
  };

  let rows = "";
  for (const [key, value] of Object.entries(food)) {
    const kcalGroup = totalKcal * value;
    const kg = (kcalGroup / 2500).toFixed(1); // grob: 2500 kcal ‚âà 1 kg Mischwert
    rows += `<tr><td>${key}</td><td>${kcalGroup.toLocaleString()} kcal</td><td>${kg} kg</td></tr>`;
  }

  const resultHTML = `
    <h2>Ergebnis</h2>
    <p><strong>Personen:</strong> ${n} ‚Äì <strong>Tage:</strong> ${d} ‚Äì <strong>Modus:</strong> ${mode === "bbk" ? "BBK-Minimum" : mode === "michel" ? "Michel-Praxiswert" : "Selbstversorger-Deluxe"}</p>
    <table>
      <tr><th>Kategorie</th><th>Energie</th><th>Menge</th></tr>
      ${rows}
    </table>
    <p><strong>Gesamtenergie:</strong> ${totalKcal.toLocaleString()} kcal<br>
    <strong>Wasserbedarf:</strong> ${totalWater.toLocaleString()} Liter</p>
    <p>üí° Tipp: 1 Liter Wasser wiegt 1 kg ‚Äì das sp√ºrt man beim Schleppen.</p>
  `;

  document.getElementById("result").innerHTML = resultHTML;
}
</script>
</body>
</html>
